<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="card shadow-sm w-100" style="max-width: 400px;">
    <div class="card-body">
      <h3 class="mb-4 text-center text-success">ğŸ“ Register</h3>

      <form [formGroup]="form" (ngSubmit)="submit()">
        <!-- Full Name -->
        <div class="mb-3">
          <label class="form-label">Full Name</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
            <input
              formControlName="fullName"
              class="form-control"
              [class.is-invalid]="form.get('fullName')?.invalid && form.get('fullName')?.touched"
            />
            <div class="invalid-feedback" *ngIf="form.get('fullName')?.invalid && form.get('fullName')?.touched">
              Name is required
            </div>
          </div>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label class="form-label">Email</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-envelope-fill"></i></span>
            <input
              type="email"
              formControlName="email"
              class="form-control"
              [class.is-invalid]="form.get('email')?.invalid && form.get('email')?.touched"
            />
            <div class="invalid-feedback" *ngIf="form.get('email')?.errors?.['required'] && form.get('email')?.touched">
              Email is required
            </div>
            <div class="invalid-feedback" *ngIf="form.get('email')?.errors?.['email']">
              Enter a valid email
            </div>
          </div>
        </div>

        <!-- Password -->
       <!-- Password -->
<div class="mb-3">
  <label class="form-label">Password</label>
  <div class="input-group">
    <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
    <input
      [type]="showPassword ? 'text' : 'password'"
      formControlName="password"
      class="form-control"
      [class.is-invalid]="form.get('password')?.invalid && form.get('password')?.touched"
    />
    <button
      type="button"
      class="btn btn-outline-secondary"
      (click)="showPassword = !showPassword"
      tabindex="-1"
    >
      <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
    </button>
    <div class="invalid-feedback" *ngIf="form.get('password')?.invalid && form.get('password')?.touched">
      Password is required
    </div>
  </div>
</div>

        <!-- Submit Button -->
        <button [disabled]="loading || form.invalid" class="btn btn-success w-100">
          <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
          {{ loading ? 'Creating...' : 'Register' }}
        </button>
      </form>

      <!-- Alerts -->
      <div *ngIf="error" class="alert alert-danger mt-3 text-center">{{ error }}</div>
      <div *ngIf="success" class="alert alert-success mt-3 text-center">{{ success }}</div>

      <!-- Link to Login -->
      <div class="text-center mt-3">
        <span>Already have an account?</span>
        <a routerLink="/login" class="text-decoration-none text-success fw-semibold">
          Login here
        </a>
      </div>
    </div>
  </div>
</div>
